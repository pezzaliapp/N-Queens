:root{
  --bg:#0f172a; --panel:#111827; --ink:#e5e7eb; --muted:#9ca3af;
  --accent:#22c55e; --warn:#ef4444; --line:#1f2937;
}
*{box-sizing:border-box} html,body{height:100%;margin:0;padding:0}
body{background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,"Helvetica Neue",Arial}
.appbar{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid var(--line);background:var(--panel);position:sticky;top:0;z-index:2}
.brand{display:flex;gap:.75rem;align-items:center}
.brand img{width:32px;height:32px;border-radius:6px}
.brand h1{font-size:1.15rem;margin:0;letter-spacing:.5px}
.actions{display:flex;gap:.5rem}
button,.ghost{background:var(--accent);border:none;border-radius:.6rem;color:#06210f;padding:.5rem .8rem;font-weight:700;cursor:pointer}
button.ghost,.ghost{background:transparent;color:var(--ink);border:1px solid var(--line)}
button:disabled{opacity:.5;cursor:not-allowed}
main{display:grid;grid-template-columns:1fr 320px;gap:1rem;max-width:1200px;margin:1rem auto;padding:0 1rem}
.panel,.side{background:var(--panel);border:1px solid var(--line);border-radius:1rem;padding:1rem}
.controls{display:flex;flex-wrap:wrap;gap:.5rem;margin:.5rem 0}
.controls label{align-self:center} input[type="number"]{width:5rem;background:#0b1220;color:var(--ink);border:1px solid var(--line);border-radius:.5rem;padding:.4rem .5rem}
.status{margin:.5rem 0 1rem;color:var(--muted)}
.board{--n:8;display:grid;grid-template-columns:repeat(var(--n),1fr);gap:2px;background:var(--line);border-radius:.5rem;overflow:hidden;border:1px solid var(--line)}
.cell{aspect-ratio:1/1;background:#0b1220;display:flex;align-items:center;justify-content:center;font-size:clamp(16px, 6vw, 36px);user-select:none}
.cell.dark{background:#0b1628} .cell:hover{outline:2px solid #0b2144;outline-offset:-2px}
.cell.queen{position:relative}
.cell.queen::after{content:"\265B";font-size:1.1em}
.cell.conflict{background:#2a0f13}
.legend{display:flex;gap:1rem;margin-top:.75rem}
.legend-item{display:flex;gap:.35rem;align-items:center}
.cell.demo{width:20px;height:20px;aspect-ratio:auto;border-radius:4px}
.stats p{margin:.3rem 0} .muted{color:var(--muted)}
details{border-top:1px solid var(--line);padding-top:.75rem;margin-top:.75rem}
.footer{max-width:1200px;margin:1rem auto;padding:0 1rem;color:var(--muted)}
@media (max-width: 960px){main{grid-template-columns:1fr}}