
<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>N-Queens â€” PezzaliAPP</title>
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/x-icon" href="icons/favicon.ico" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="appbar">
    <div class="brand">
      <img src="icons/icon-192.png" alt="N-Queens icon" />
      <h1>Nâ€‘Queens</h1>
    </div>
    <div class="actions">
      <button id="installBtn" class="ghost" hidden>Installa</button>
      <a class="ghost" id="githubLink" target="_blank" rel="noopener">GitHub</a>
    </div>
  </header>

  <main>
    <section class="panel">
      <div class="controls">
        <label for="nInput">N:</label>
        <input id="nInput" type="number" min="4" max="14" step="1" value="8" />
        <button id="newBoardBtn">Nuova Scacchiera</button>
        <button id="resetBtn" class="ghost">Svuota</button>
      </div>

      <div class="controls">
        <button id="checkBtn">Controlla</button>
        <button id="hintBtn">Suggerisci</button>
        <button id="solveOneBtn">Risolvi (1 soluzione)</button>
        <button id="findAllBtn" class="ghost">Trova tutte (max 256)</button>
      </div>

      <div class="controls">
        <button id="prevBtn" class="ghost" disabled>â—€ï¸Ž Precedente</button>
        <button id="nextBtn" class="ghost" disabled>Successiva â–¶ï¸Ž</button>
        <button id="applyBtn" class="ghost" disabled>Applica questa</button>
      </div>

      <p id="status" class="status">Pronto.</p>
      <div id="board" class="board" role="grid" aria-label="Scacchiera N-Queens"></div>
      <div class="legend">
        <span class="legend-item"><span class="cell demo queen"></span> Regina</span>
        <span class="legend-item"><span class="cell demo conflict"></span> Conflitto</span>
      </div>
    </section>

    <section class="side">
      <div class="stats">
        <p><strong>N:</strong> <span id="statN">8</span></p>
        <p><strong>Regine piazzate:</strong> <span id="statPlaced">0</span>/<span id="statN2">8</span></p>
        <p><strong>Conflitti totali:</strong> <span id="statConflicts">0</span></p>
        <p><strong>Soluzioni trovate:</strong> <span id="statSolutions">0</span> <small id="statCapped" class="muted"></small></p>
      </div>
      <details>
        <summary>Info & Aiuto</summary>
        <p>Posiziona una regina cliccando su una casella. Un click su una regina la rimuove. L'obiettivo Ã¨ piazzare <em>N</em> regine in modo che nessuna si minacci: niente conflitti su righe, colonne o diagonali.</p>
        <ul>
          <li><strong>Controlla</strong> evidenzia i conflitti.</li>
          <li><strong>Suggerisci</strong> usa il backtracking per trovare la prossima mossa verso una soluzione completa, partendo dalla situazione attuale.</li>
          <li><strong>Risolvi (1 soluzione)</strong> trova una soluzione completa compatibile con le regine giÃ  piazzate.</li>
          <li><strong>Trova tutte</strong> calcola fino a 256 soluzioni per l'N scelto (attenzione: per N grandi potrebbe richiedere tempo).</li>
        </ul>
      </details>
      <details>
        <summary>PWA & Offline</summary>
        <p>Questa app Ã¨ una PWA: puoi installarla su desktop e mobile. Funziona offline grazie al <em>service worker</em>.</p>
      </details>
      <details>
        <summary>Licenza</summary>
        <p>MIT Â© 2025 Alessandro Pezzali â€” PezzaliAPP</p>
      </details>
    </section>
  </main>

  <footer class="footer">
    <p>ðŸ’š Open Source â€” PezzaliAPP.com</p>
  </footer>

  <script src="script.js" defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js');
      });
    }
  </script>
</body>
</html>
